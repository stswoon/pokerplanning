{"version":3,"file":"WelcomeView.34c4d021.js","sources":["../../node_modules/uuid/dist/esm-browser/rng.js","../../node_modules/uuid/dist/esm-browser/regex.js","../../node_modules/uuid/dist/esm-browser/validate.js","../../node_modules/uuid/dist/esm-browser/stringify.js","../../node_modules/uuid/dist/esm-browser/v4.js","../../src/modules/welcome/Welcome.vue","../../src/modules/welcome/Welcome.vue"],"sourcesContent":["// Unique ID creation requires a high quality random # generator. In the browser we therefore\n// require the crypto API and do not support built-in fallback to lower quality random number\n// generators (like Math.random()).\nvar getRandomValues;\nvar rnds8 = new Uint8Array(16);\nexport default function rng() {\n  // lazy load so that environments that need to polyfill have a chance to do so\n  if (!getRandomValues) {\n    // getRandomValues needs to be invoked in a context where \"this\" is a Crypto implementation. Also,\n    // find the complete implementation of crypto (msCrypto) on IE11.\n    getRandomValues = typeof crypto !== 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto) || typeof msCrypto !== 'undefined' && typeof msCrypto.getRandomValues === 'function' && msCrypto.getRandomValues.bind(msCrypto);\n\n    if (!getRandomValues) {\n      throw new Error('crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported');\n    }\n  }\n\n  return getRandomValues(rnds8);\n}","export default /^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;","import REGEX from './regex.js';\n\nfunction validate(uuid) {\n  return typeof uuid === 'string' && REGEX.test(uuid);\n}\n\nexport default validate;","import validate from './validate.js';\n/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\n\nvar byteToHex = [];\n\nfor (var i = 0; i < 256; ++i) {\n  byteToHex.push((i + 0x100).toString(16).substr(1));\n}\n\nfunction stringify(arr) {\n  var offset = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n  // Note: Be careful editing this code!  It's been tuned for performance\n  // and works in ways you may not expect. See https://github.com/uuidjs/uuid/pull/434\n  var uuid = (byteToHex[arr[offset + 0]] + byteToHex[arr[offset + 1]] + byteToHex[arr[offset + 2]] + byteToHex[arr[offset + 3]] + '-' + byteToHex[arr[offset + 4]] + byteToHex[arr[offset + 5]] + '-' + byteToHex[arr[offset + 6]] + byteToHex[arr[offset + 7]] + '-' + byteToHex[arr[offset + 8]] + byteToHex[arr[offset + 9]] + '-' + byteToHex[arr[offset + 10]] + byteToHex[arr[offset + 11]] + byteToHex[arr[offset + 12]] + byteToHex[arr[offset + 13]] + byteToHex[arr[offset + 14]] + byteToHex[arr[offset + 15]]).toLowerCase(); // Consistency check for valid UUID.  If this throws, it's likely due to one\n  // of the following:\n  // - One or more input array values don't map to a hex octet (leading to\n  // \"undefined\" in the uuid)\n  // - Invalid input values for the RFC `version` or `variant` fields\n\n  if (!validate(uuid)) {\n    throw TypeError('Stringified UUID is invalid');\n  }\n\n  return uuid;\n}\n\nexport default stringify;","import rng from './rng.js';\nimport stringify from './stringify.js';\n\nfunction v4(options, buf, offset) {\n  options = options || {};\n  var rnds = options.random || (options.rng || rng)(); // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n\n  rnds[6] = rnds[6] & 0x0f | 0x40;\n  rnds[8] = rnds[8] & 0x3f | 0x80; // Copy bytes to buffer, if provided\n\n  if (buf) {\n    offset = offset || 0;\n\n    for (var i = 0; i < 16; ++i) {\n      buf[offset + i] = rnds[i];\n    }\n\n    return buf;\n  }\n\n  return stringify(rnds);\n}\n\nexport default v4;","<script lang=\"ts\">\r\nimport router from \"@/views/router\";\r\nimport utils from \"@/utils\";\r\nimport {defineComponent} from 'vue'\r\nimport {roomService} from \"@/modules/room/room.service\";\r\nimport {v4 as uuidv4} from \"uuid\";\r\n\r\nexport default defineComponent({\r\n  props: {},\r\n\r\n  data() {\r\n    //https://stackoverflow.com/a/57152049\r\n    return {\r\n      userName: null as string | null,\r\n      createRoomButtonDisplay: false as boolean,\r\n      createRoomButtonDisabled: true as boolean,\r\n      backToRoomButtonDisplay: false as boolean,\r\n      backToRoomButtonDisabled: true as boolean\r\n    }\r\n  },\r\n\r\n  methods: {\r\n    createRoom(): void {\r\n      const roomId = uuidv4();\r\n      router.push(`/room?roomId=${roomId}`)\r\n    },\r\n    backToRoom(): void {\r\n      const redirectRoomId = utils.getQueryParameter(\"redirectRoomId\");\r\n      router.push(`/room?roomId=${redirectRoomId}`)\r\n    },\r\n    saveUserName(e: any): void {\r\n      const userName = e.currentTarget.value;\r\n      roomService.setUserName(userName);\r\n      this.userName = userName;\r\n      this.createRoomButtonDisabled = !userName;\r\n      this.backToRoomButtonDisabled = !userName;\r\n    }\r\n  },\r\n\r\n  mounted(): void {\r\n    const redirectRoomId = utils.getQueryParameter(\"redirectRoomId\");\r\n    this.backToRoomButtonDisplay = !!redirectRoomId;\r\n    this.createRoomButtonDisplay = !redirectRoomId;\r\n\r\n    let userId = roomService.getUserId();\r\n    if (!userId) {\r\n      userId = uuidv4() as string;\r\n      roomService.setUserId(userId);\r\n    }\r\n\r\n    const userName = roomService.getUserName();\r\n    if (userName) {\r\n      this.userName = userName;\r\n      this.createRoomButtonDisabled = false;\r\n    }\r\n  }\r\n})\r\n</script>\r\n\r\n<template>\r\n  <div class=\"welcome-container\">\r\n    <div class=\"welcome-form\">\r\n      <input type=\"text\" id=\"userNameInput\" placeholder=\"Enter your name\"\r\n             @keyup=\"saveUserName\" :value=\"userName\"/>\r\n      <button id=\"createRoomButton\"\r\n              v-if=\"createRoomButtonDisplay\"\r\n              :disabled=\"createRoomButtonDisabled\"\r\n              @click=\"createRoom\">\r\n        Create Room\r\n      </button>\r\n      <button id=\"backToRoomButton\"\r\n              v-if=\"backToRoomButtonDisplay\"\r\n              :disabled=\"backToRoomButtonDisabled\"\r\n              @click=\"backToRoom\">\r\n        Back to Room\r\n      </button>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n\r\n<style scoped>\r\n\r\n.welcome-container {\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  height: 95vh;\r\n}\r\n\r\n.welcome-form {\r\n  display: flex;\r\n  border: 1px black dashed;\r\n  height: 70px;\r\n  border-radius: 30px;\r\n  padding: 50px;\r\n  background-color: beige;\r\n}\r\n\r\n.welcome-form > input {\r\n  font-size: 30px;\r\n  font-weight: bold;\r\n}\r\n\r\n.welcome-form > button {\r\n  font-size: 30px;\r\n  width: 250px;\r\n  background-color: limegreen;\r\n  color: white;\r\n}\r\n\r\n.welcome-form > button:disabled {\r\n  background-color: lightgray;\r\n}\r\n\r\n.welcome-form > button:disabled:hover::after {\r\n  content: \"Enter your name first\";\r\n  /*content: attr(title);*/\r\n  font-size: 20px;\r\n  color: coral;\r\n  /*position: absolute;*/\r\n}\r\n\r\n</style>\r\n","<script lang=\"ts\">\r\nimport router from \"@/views/router\";\r\nimport utils from \"@/utils\";\r\nimport {defineComponent} from 'vue'\r\nimport {roomService} from \"@/modules/room/room.service\";\r\nimport {v4 as uuidv4} from \"uuid\";\r\n\r\nexport default defineComponent({\r\n  props: {},\r\n\r\n  data() {\r\n    //https://stackoverflow.com/a/57152049\r\n    return {\r\n      userName: null as string | null,\r\n      createRoomButtonDisplay: false as boolean,\r\n      createRoomButtonDisabled: true as boolean,\r\n      backToRoomButtonDisplay: false as boolean,\r\n      backToRoomButtonDisabled: true as boolean\r\n    }\r\n  },\r\n\r\n  methods: {\r\n    createRoom(): void {\r\n      const roomId = uuidv4();\r\n      router.push(`/room?roomId=${roomId}`)\r\n    },\r\n    backToRoom(): void {\r\n      const redirectRoomId = utils.getQueryParameter(\"redirectRoomId\");\r\n      router.push(`/room?roomId=${redirectRoomId}`)\r\n    },\r\n    saveUserName(e: any): void {\r\n      const userName = e.currentTarget.value;\r\n      roomService.setUserName(userName);\r\n      this.userName = userName;\r\n      this.createRoomButtonDisabled = !userName;\r\n      this.backToRoomButtonDisabled = !userName;\r\n    }\r\n  },\r\n\r\n  mounted(): void {\r\n    const redirectRoomId = utils.getQueryParameter(\"redirectRoomId\");\r\n    this.backToRoomButtonDisplay = !!redirectRoomId;\r\n    this.createRoomButtonDisplay = !redirectRoomId;\r\n\r\n    let userId = roomService.getUserId();\r\n    if (!userId) {\r\n      userId = uuidv4() as string;\r\n      roomService.setUserId(userId);\r\n    }\r\n\r\n    const userName = roomService.getUserName();\r\n    if (userName) {\r\n      this.userName = userName;\r\n      this.createRoomButtonDisabled = false;\r\n    }\r\n  }\r\n})\r\n</script>\r\n\r\n<template>\r\n  <div class=\"welcome-container\">\r\n    <div class=\"welcome-form\">\r\n      <input type=\"text\" id=\"userNameInput\" placeholder=\"Enter your name\"\r\n             @keyup=\"saveUserName\" :value=\"userName\"/>\r\n      <button id=\"createRoomButton\"\r\n              v-if=\"createRoomButtonDisplay\"\r\n              :disabled=\"createRoomButtonDisabled\"\r\n              @click=\"createRoom\">\r\n        Create Room\r\n      </button>\r\n      <button id=\"backToRoomButton\"\r\n              v-if=\"backToRoomButtonDisplay\"\r\n              :disabled=\"backToRoomButtonDisabled\"\r\n              @click=\"backToRoom\">\r\n        Back to Room\r\n      </button>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n\r\n<style scoped>\r\n\r\n.welcome-container {\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  height: 95vh;\r\n}\r\n\r\n.welcome-form {\r\n  display: flex;\r\n  border: 1px black dashed;\r\n  height: 70px;\r\n  border-radius: 30px;\r\n  padding: 50px;\r\n  background-color: beige;\r\n}\r\n\r\n.welcome-form > input {\r\n  font-size: 30px;\r\n  font-weight: bold;\r\n}\r\n\r\n.welcome-form > button {\r\n  font-size: 30px;\r\n  width: 250px;\r\n  background-color: limegreen;\r\n  color: white;\r\n}\r\n\r\n.welcome-form > button:disabled {\r\n  background-color: lightgray;\r\n}\r\n\r\n.welcome-form > button:disabled:hover::after {\r\n  content: \"Enter your name first\";\r\n  /*content: attr(title);*/\r\n  font-size: 20px;\r\n  color: coral;\r\n  /*position: absolute;*/\r\n}\r\n\r\n</style>\r\n"],"names":["getRandomValues","rnds8","rng","REGEX","validate","uuid","byteToHex","i","stringify","arr","offset","v4","options","buf","rnds","_sfc_main$1","defineComponent","roomId","uuidv4","router","redirectRoomId","utils","userName","roomService","userId","_sfc_render","_ctx","_cache","$props","$setup","$data","$options","_openBlock","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","args","_hoisted_3","_hoisted_4","_createCommentVNode"],"mappings":"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"}