import{d as b,r as l,_ as g,o as m,c as i,a as p,b as f,e as v}from"./index.8ec967d7.js";import{u as R,r as u}from"./room.service.0fddc71d.js";var d,_=new Uint8Array(16);function B(){if(!d&&(d=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!d))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return d(_)}const h=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function k(e){return typeof e=="string"&&h.test(e)}var t=[];for(var c=0;c<256;++c)t.push((c+256).toString(16).substr(1));function D(e){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=(t[e[o+0]]+t[e[o+1]]+t[e[o+2]]+t[e[o+3]]+"-"+t[e[o+4]]+t[e[o+5]]+"-"+t[e[o+6]]+t[e[o+7]]+"-"+t[e[o+8]]+t[e[o+9]]+"-"+t[e[o+10]]+t[e[o+11]]+t[e[o+12]]+t[e[o+13]]+t[e[o+14]]+t[e[o+15]]).toLowerCase();if(!k(s))throw TypeError("Stringified UUID is invalid");return s}function y(e,o,s){e=e||{};var a=e.random||(e.rng||B)();if(a[6]=a[6]&15|64,a[8]=a[8]&63|128,o){s=s||0;for(var r=0;r<16;++r)o[s+r]=a[r];return o}return D(a)}const N=b({props:{},data(){return{userName:null,createRoomButtonDisplay:!1,createRoomButtonDisabled:!0,backToRoomButtonDisplay:!1,backToRoomButtonDisabled:!0}},methods:{createRoom(){const e=y();l.push(`/room?roomId=${e}`)},backToRoom(){const e=R.getQueryParameter("redirectRoomId");l.push(`/room?roomId=${e}`)},saveUserName(e){const o=e.currentTarget.value;u.setUserName(o),this.userName=o,this.createRoomButtonDisabled=!o,this.backToRoomButtonDisabled=!o}},mounted(){const e=R.getQueryParameter("redirectRoomId");this.backToRoomButtonDisplay=!!e,this.createRoomButtonDisplay=!e;let o=u.getUserId();o||(o=y(),u.setUserId(o));const s=u.getUserName();s&&(this.userName=s,this.createRoomButtonDisabled=!1)}});const I={class:"welcome-container"},T={class:"welcome-form"},C=["value"],U=["disabled"],V=["disabled"];function w(e,o,s,a,r,E){return m(),i("div",I,[p("div",T,[p("input",{type:"text",id:"userNameInput",placeholder:"Enter your name",onKeyup:o[0]||(o[0]=(...n)=>e.saveUserName&&e.saveUserName(...n)),value:e.userName},null,40,C),e.createRoomButtonDisplay?(m(),i("button",{key:0,id:"createRoomButton",disabled:e.createRoomButtonDisabled,onClick:o[1]||(o[1]=(...n)=>e.createRoom&&e.createRoom(...n))}," Create Room ",8,U)):f("",!0),e.backToRoomButtonDisplay?(m(),i("button",{key:1,id:"backToRoomButton",disabled:e.backToRoomButtonDisabled,onClick:o[2]||(o[2]=(...n)=>e.backToRoom&&e.backToRoom(...n))}," Back to Room ",8,V)):f("",!0)])])}const $=g(N,[["render",w],["__scopeId","data-v-dd51763a"]]),P=b({__name:"WelcomeView",setup(e){return(o,s)=>(m(),v($))}});export{P as default};
//# sourceMappingURL=WelcomeView.158cd510.js.map
